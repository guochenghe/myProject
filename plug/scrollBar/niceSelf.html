<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
		
		#div33{
			position: relative;
			width:300px;
			height:400px;
			border:1px solid #000;
			overflow: hidden;
		}
		#div44{
			position: absolute;
			padding: 20px 0;
		}
		#div7{
			position: relative;
			width:300px;
			height:400px;
			border:1px solid #000;
			overflow: hidden;
			display: none;
		}
		#div8{
			position: absolute;
			padding: 20px 0;
		}
	</style>
</head>
<body>

<button>NO.1</button>
<button>NO.2</button>
<div id="div33">
	<div id="div44">据达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞。据《每日邮报》报道，美国5岁小女孩玛丽-梅森身患绝症。她的心愿就是能举行婚礼，嫁给自己的好闺蜜。为了实现其夙愿，她的家人给她和好闺蜜达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞据达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞。据《每日邮报》报道，美国5岁小女孩玛丽-梅森身患绝症。她的心愿就是能举行婚礼，嫁给自己的好闺蜜。为了实现其夙愿，她的家人给她和好闺蜜达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞据达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞。据《每日邮报》报道，美国5岁小女孩玛丽-梅森身患绝症。她的心愿就是能举行婚礼，嫁给自己的好闺蜜。为了实现其夙愿，她的家人给她和好闺蜜达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞据达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞。据《每日邮报》报道，美国5岁小女孩玛丽-梅森身患绝症。她的心愿就是能举行婚礼，嫁给自己的好闺蜜。为了实现其夙愿，她的家人给她和好闺蜜达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞据达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞。据《每日邮报》报道，美国5岁小女孩玛丽-梅森身患绝症。她的心愿就是能举行婚礼，嫁给自己的好闺蜜。为了实现其夙愿，她的家人给她和好闺蜜达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞据达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞。据《每日邮报》报道，美国5岁小女孩玛丽-梅森身患绝症。她的心愿就是能举行婚礼，嫁给自己的好闺蜜。为了实现其夙愿，她的家人给她和好闺蜜达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞据达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞。据《每日邮报》报道，美国5岁小女孩玛丽-梅森身患绝症。她的心愿就是能举行婚礼，嫁给自己的好闺蜜。为了实现其夙愿，她的家人给她和好闺蜜达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞据达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞。据《每日邮报》报道，美国5岁小女孩玛丽-梅森身患绝症。她的心愿就是能举行婚礼，嫁给自己的好闺蜜。为了实现其夙愿，她的家人给她和好闺蜜达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞据达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞。据《每日邮报》报道，美国5岁小女孩玛丽-梅森身患绝症。她的心愿就是能举行婚礼，嫁给自己的好闺蜜。为了实现其夙愿，她的家人给她和好闺蜜达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞据达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞。据《每日邮报》报道，美国5岁小女孩玛丽-梅森身患绝症。她的心愿就是能举行婚礼，嫁给自己的好闺蜜。为了实现其夙愿，她的家人给她和好闺蜜达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞。</div>
</div>
<div id="div7">
	<div id="div8">据达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞。据《每日邮报》报道，美国5岁小女孩玛丽-梅森身患绝症。她的心愿就是能举行婚礼，嫁给自己的好闺蜜。为了实现其夙愿，她的家人给她和好闺蜜达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞据达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞。据《每日邮报》报道，美国5岁小女孩玛丽-梅森身患绝症。她的心愿就是能举行婚礼，嫁给自己的好闺蜜。为了实现其夙愿，她的家人给她和好闺蜜达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞据达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞。据《每日邮报》报道，美国5岁小女孩玛丽-梅森身患绝症。她的心愿就是能举行婚礼，嫁给自己的好闺蜜。为了实现其夙愿，她的家人给她和好闺蜜达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞据达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞。据《每日邮报》报道，美国5岁小女孩玛丽-梅森身患绝症。她的心愿就是能举行婚礼，嫁给自己的好闺蜜。为了实现其夙愿，她的家人给她和好闺蜜达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞据达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞。据《每日邮报》报道，美国5岁小女孩玛丽-梅森身患绝症。她的心愿就是能举行婚礼，嫁给自己的好闺蜜。为了实现其夙愿，她的家人给她和好闺蜜达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞据达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞。据《每日邮报》报道，美国5岁小女孩玛丽-梅森身患绝症。她的心愿就是能举行婚礼，嫁给自己的好闺蜜。为了实现其夙愿，她的家人给她和好闺蜜达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞据达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞。据《每日邮报》报道，美国5岁小女孩玛丽-梅森身患绝症。她的心愿就是能举行婚礼，嫁给自己的好闺蜜。为了实现其夙愿，她的家人给她和好闺蜜达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞据达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞。据《每日邮报》报道，美国5岁小女孩玛丽-梅森身患绝症。她的心愿就是能举行婚礼，嫁给自己的好闺蜜。为了实现其夙愿，她的家人给她和好闺蜜达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞据达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞。据《每日邮报》报道，美国5岁小女孩玛丽-梅森身患绝症。她的心愿就是能举行婚礼，嫁给自己的好闺蜜。为了实现其夙愿，她的家人给她和好闺蜜达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞据达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞。据《每日邮报》报道，美国5岁小女孩玛丽-梅森身患绝症。她的心愿就是能举行婚礼，嫁给自己的好闺蜜。为了实现其夙愿，她的家人给她和好闺蜜达米安举行了一场“婚礼”。6小时后，小玛丽带着微笑安静地离开了人世。玛丽身患囊胞性纤维症。这种病会让她的肺部和消化系统逐渐被大量粘液阻塞。</div>
</div>
	
<script type="text/javascript" src="jquery-1.11.1.js"></script>
<script type="text/javascript">

	/*滚动条方法*/
	function scrollStrip(data){
		/*js创建滚动条节点*/
		var stripLength = document.getElementsByClassName('niceStrip').length;
	    if(!stripLength){
	        var scrollWrap = document.createElement('div');
	        scrollWrap.className = 'niceStrip';
	        scrollWrap.id = 'div1';
	        /*滑块*/
	        var oDiv = document.createElement('div');
	        oDiv.id = 'div2';
	    }else{
	        var scrollWrap = document.createElement('div');
	        scrollWrap.className = 'niceStrip';
	        scrollWrap.id = 'div'+(stripLength*2+1).toString();
	        /*滑块*/
	        var oDiv = document.createElement('div');
	        oDiv.id = 'div'+(stripLength*2+2).toString();
	    }

		scrollWrap.appendChild(oDiv);
		document.body.appendChild(scrollWrap);

		var conWrapDiv = document.getElementById(data.idWrap);
		var conDiv = document.getElementById(data.idInner);
		var canTop = conDiv.clientHeight - conWrapDiv.offsetHeight;


		/*动态控制滚动条的位置--->基本默认在内容的最右侧*/
		scrollWrap.style.left = conWrapDiv.offsetLeft + conWrapDiv.clientWidth +'px';
		scrollWrap.style.top = conWrapDiv.offsetTop+'px';
		/*自定义滚动条的颜色，宽度*/


		/*#div1{
			width: 10px;
			height:400px;
			position:absolute;
			background: #ccc;
			cursor: pointer;
		}*/
		scrollWrap.style.height = conWrapDiv.clientHeight +'px';
		scrollWrap.style.position = 'absolute';
		scrollWrap.style.backgroundColor = 'transparent';
		scrollWrap.style.width = data.stripWidth;
		oDiv.style.borderRadius = data.stripRadio;
		oDiv.style.cursor = 'pointer';
		oDiv.style.position = 'absolute';
		oDiv.style.height= '100px';
		oDiv.style.width = '100%';
		oDiv.style.background=data.stripColor;
		
		/*判断如果内容高度小于等于内容父盒子高度，则不需要滚动条，滚动条消失*/
		if(canTop <= 0){
			document.getElementById('div1').style.display = 'none';
		}
		oDiv.onmousedown = function(event){
			var disY = event.clientY - this.offsetTop;  //计算初始滑块据浏览器最左边的距离

			document.onmousemove = function(event){
				var t = event.clientY - disY;  //实时计算该元素到父盒子上边界的距离
				setTop(t);
			}
			document.onmouseup = function(){
				document.onmousemove = null;
				document.onmouseup = null;
			}
		}

		/*设置高度*/
		function setTop(t){
			if(t<0){
				t=0;
			}else if(t>scrollWrap.clientHeight - oDiv.clientHeight){
				t=scrollWrap.clientHeight - oDiv.clientHeight;
			};

			var scale = t/(scrollWrap.clientHeight - oDiv.clientHeight);
			//document.title = scale;
			/*内容能够滚动的距离*/
			
			/*实时计算内容滚动的高度*/
			conDiv.style.top = -canTop*scale + 'px';

			/*滑块相对符合子所走的距离*/

			oDiv.style.top = t + 'px';
		}

		/*兼容事件绑定*/
		function addEvent(obj,sEvent,fn){
			if(obj.attachEvent){
				obj.attachEvent('on'+sEvent,fn);
			}else{
				obj.addEventListener(sEvent, fn, false)
			}
		}
		/*鼠标滚轮滚动的执行函数*/
		function mouseFn(ev){
			var oEvent = ev || event;
			//alert(oEvent.whellDelta); //IE
			//alert(oEvent.detail);

			/*首先在兼容浏览器的情况下判断是上滚还是下滚*/
			var beDown = true;  //默认向下为true
			var num = 0;
			//IE下 向下小于0 向上大于0，所以可以直接通过判断返回true，false
			beDown = oEvent.wheelDelta?oEvent.wheelDelta<0:oEvent.detail>0;
			
			if(beDown){
				setTop(oDiv.offsetTop + 10);
			}else{
				setTop(oDiv.offsetTop - 10);
			}

			/*内容滚动的时候阻止浏览器自带的滚动条事件*/
			/*
			1判断如果内容高度小于等于内容父盒子高度
			2当滑块滚动到底部或者顶部
			则都无需禁用浏览器滚动条滚动事件
			*/
			if(canTop > 0 && (oDiv.offsetTop < scrollWrap.clientHeight - oDiv.clientHeight && oDiv.offsetTop > 0)){
				if(oEvent.preventDefault){
					oEvent.preventDefault();
				}else{
					return false;
				}
			}
			
			/*if(oEvent.wheelDelta){
				if(oEvent.wheelDelta>0){
					alert(1);
					beDown = false;
				}else{
					beDown = true;
				}
			}else{
				if(oEvent.detail>0){
					beDown = true;
				}else{
					beDown = false;
				}
			}*/
		};


		addEvent(conDiv,'mousewheel',mouseFn);   //绑定事件
		addEvent(conDiv,'DOMMouseScroll',mouseFn);  //绑定事件
		
		/*conDiv.onmousewheel = function(){ //IE,chrome
			alert(1);
		}
		conDiv.addEventListener('DOMMouseScroll', function(){  //ff
			alert(1);
		}, false)*/
	}

	window.onload= function(){
		/*
		此自定义滚动条需要注意的基本结构是
		<div id="div33">
			<div id="div44"></div>
		</div>
		且这两个结构必须是定位，外面一层结构要加overflow:hidden;
		可以自定义的属性有
		stripWidth：滚动条宽度
		stripRadio：滚动条的圆角属性
		stripColor：滚动条的颜色
		*/
		scrollStrip({
			idWrap:'div33',
			idInner:'div44',
			stripWidth:'10px',
			stripRadio:'10px',
			stripColor:'#f40'
		});

	}


	$(document).ready(function() {
		
		var url = 'http://www.geonames.org/postalCodeLookupJSON?postalcode=10504&country=US&callback=callback';


			var reg = /(postalcode=(.+)\&)/;

			
			console.log(reg.exec(url));

	});
</script>
</body>
</html>